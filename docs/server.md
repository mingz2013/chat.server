客户端和服务器通信

客户端请求,服务器响应

客户端发送心跳包,来请求服务器响应

服务器不主动向客户端推送消息,只通过心跳包推送消息

跟web开发就一样了

只需要底层连接保证连接

上层一样

消息存储在数据库,当要推送消息的时候,从数据库拿出来推出去


如果接受消息的用户在线,直接推送,如果不在线,存储到数据库,等待心跳包





